USE SPMEDGROUP;

GO
CREATE VIEW MEDICOS_VIEW AS
SELECT
	USUARIOS.NOME AS NOME_MÉDICO,
	MEDICOS.CRM,
	USUARIOS.EMAIL AS EMAIL_MÉDICO,	
	ESPECIALIDADES.NOME AS ESPECIALIDADE,
	CLINICA.NOME_FANTASIA AS NOME_CLÍNICA
FROM
	MEDICOS
	INNER JOIN
	USUARIOS ON MEDICOS.ID_USUARIO = USUARIOS.ID
	INNER JOIN
	ESPECIALIDADES ON ESPECIALIDADES.ID = MEDICOS.ID_ESPECIALIDADE
	INNER JOIN
	CLINICA ON CLINICA.ID = MEDICOS.ID_CLINICA
GO

SELECT * FROM MEDICOS

----------

GO
CREATE VIEW PACIENTE_VIEW AS
SELECT
	USUARIOS.NOME AS NOME_PACIENTE,
	USUARIOS.EMAIL AS EMAIL_PACIENTE,
	PRONTUARIOS.RG,
	PRONTUARIOS.CPF,
	PRONTUARIOS.DATA_NASCIMENTO,
	PRONTUARIOS.TELEFONE,
	PRONTUARIOS.ENDERECO
FROM
	PRONTUARIOS
	INNER JOIN
	USUARIOS ON PRONTUARIOS.ID_USUARIO = USUARIOS.ID
GO

SELECT * FROM PRONTUARIOS

----------

GO
CREATE VIEW CONSULTA_VIEW AS
SELECT
	USUARIOS.NOME AS NOME_PACIENTE,
	USUARIOS.NOME AS NOME_MEDICO,
	CONSULTA.DATA_HORA_CONSULTA,
	SITUACOES.NOME AS SITUAÇÃO,
	CONSULTA.DESCRICAO
FROM
	PRONTUARIOS
	INNER JOIN
	USUARIOS ON PRONTUARIOS.ID_USUARIO = USUARIOS.ID
	INNER JOIN
	CONSULTA ON CONSULTA.ID_MEDICO = PRONTUARIOS.ID
	INNER JOIN
	SITUACOES ON SITUACOES.ID = CONSULTA.ID_SITUACAO
GO